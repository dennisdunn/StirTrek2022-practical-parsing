const { context } = require('@dennisdunn/tiny-parse');
const { G } = require('../src/grammar');

const log = obj => {
<<<<<<< HEAD
    console.log(`${expect.getState().currentTestName} =>\n ${JSON.stringify(obj.result)}`);
=======
    console.log(`${expect.getState().currentTestName} => ${obj.result}`);
>>>>>>> 6a2f40c471a74e19bd647be2001dfc65483ce2a7
}

const run = str => {
    const parser = G.start;
    const result = parser(context(str));
    log(result);
}

test('parse 1 + 2', () => {
    run('1 + 2');
})

test('parse (1 + 2)* (1 - 2 * 3)', () => {
    run('(1 + 2)* (1 - 2 * 3)');
})